import{j as L}from"./index-CoIdTsJH.js";import{R as l}from"./vendor-framer-DoVx5L_0.js";import"./vendor-zip-DFWwQpad.js";function V(r,u,c,n,o=1e3,A=50){const f=(-o*(r-u)-A*c.v)/1;return c.v+=f*n,r+=c.v*n,r}function X({words:r,index:u,pivotPercent:c=.35,width:n=900,height:o=96,isPlaying:A=!1,wpm:j=300,className:v}){const f=l.useRef(null),p=l.useRef(null),m=l.useRef(0),E=l.useRef({v:0}),i=typeof window<"u"&&window.devicePixelRatio||1;return l.useLayoutEffect(()=>{const a=f.current;if(!a)return;a.width=Math.round(n*i),a.height=Math.round(o*i),a.style.width=`${n}px`,a.style.height=`${o}px`;const e=a.getContext("2d");e.setTransform(i,0,0,i,0,0),e.textBaseline="middle",e.font='600 48px "JetBrains Mono", ui-monospace, monospace';function P(){const t=r[u]??"",d=(()=>{const x=t.length;return x<=1?0:x<=5?1:x<=9?2:x<=13?3:4})(),B=Math.min(3,t.length),y=t.slice(0,Math.max(0,d)),w=y.slice(0,B),J=y.slice(B),S=t[d]??"",C=t.slice(d+1);e.font='700 48px "JetBrains Mono", ui-monospace, monospace';const b=e.measureText(w).width;e.font='600 48px "JetBrains Mono", ui-monospace, monospace';const F=e.measureText(J).width,W=e.measureText(S).width;e.measureText(C).width;const _=n*c,$=b+F+W/2,g=_-$,R=performance.now(),k=X._lastTsRef??R,q=Math.min(.016,(R-k)/1e3);X._lastTsRef=R,m.current=V(m.current,g,E.current,q,1e3,50),e.clearRect(0,0,n,o),p.current&&p.current!==t&&(e.save(),e.globalAlpha=.05,e.fillStyle="#1A1A1A",e.font='600 48px "JetBrains Mono", ui-monospace, monospace',e.fillText(p.current,m.current,o/2),e.restore());let s=m.current;e.save(),e.font='800 48px "JetBrains Mono", ui-monospace, monospace',e.fillStyle="#1A1A1A",e.fillText(w,s,o/2),s+=b,e.restore(),e.save(),e.font='600 48px "JetBrains Mono", ui-monospace, monospace',e.fillStyle="#1A1A1A",e.fillText(J,s,o/2),s+=F,e.restore(),e.save(),e.font='700 48px "JetBrains Mono", ui-monospace, monospace',e.fillStyle="#FF5C00",e.fillText(S,s,o/2),s+=W,e.restore(),e.save(),e.font='600 48px "JetBrains Mono", ui-monospace, monospace',e.fillStyle="#1A1A1A",e.fillText(C,s,o/2),e.restore(),p.current=t}let M=0;function T(){P(),M=requestAnimationFrame(T)}return T(),()=>cancelAnimationFrame(M)},[r,u,c,n,o,i]),L.jsx("canvas",{ref:f,className:v,width:n,height:o,style:{width:n,height:o,borderRadius:20,display:"block"},"aria-hidden":!0})}export{X as default};
